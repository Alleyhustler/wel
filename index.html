<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOL Spinner</title>
    <style>
        /* ... (keep the existing styles) ... */
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <div class="logo-circle">S</div>
            <div class="title">SOL Spinner</div>
        </div>
        <div class="social-links">
            <a href="#">üê¶</a>
            <a href="#">üåê</a>
            <a href="#">üì±</a>
        </div>
    </header>
    
    <main>
        <div class="game-container">
            <div class="wheel-container">
                <div class="wheel" id="wheel"></div>
                <div class="wheel-marker"></div>
                <div class="wheel-center"></div>
            </div>
            
            <div class="game-info">
                <div class="stats-container">
                    <div class="stats-title">Game Stats</div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Total Spins</div>
                            <div class="stat-value" id="total-spins">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Burned SOL</div>
                            <div class="stat-value" id="burned-sol">0.000</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Vault Balance</div>
                            <div class="stat-value" id="vault-balance">0.000</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Resets</div>
                            <div class="stat-value" id="resets">0</div>
                        </div>
                    </div>
                </div>
                
                <div class="outcomes-container">
                    <div class="outcomes-title">Possible Outcomes</div>
                    <div class="outcome-item">
                        <div class="outcome-label">
                            <div class="color-indicator color-burn"></div>
                            Burn
                        </div>
                        <div class="outcome-chance">25%</div>
                    </div>
                    <div class="outcome-item">
                        <div class="outcome-label">
                            <div class="color-indicator color-buy"></div>
                            Send to Vault
                        </div>
                        <div class="outcome-chance">25%</div>
                    </div>
                    <div class="outcome-item">
                        <div class="outcome-label">
                            <div class="color-indicator color-win2x"></div>
                            Win 2x
                        </div>
                        <div class="outcome-chance">15%</div>
                    </div>
                    <div class="outcome-item">
                        <div class="outcome-label">
                            <div class="color-indicator color-win5x"></div>
                            Win 5x
                        </div>
                        <div class="outcome-chance">5%</div>
                    </div>
                    <div class="outcome-item">
                        <div class="outcome-label">
                            <div class="color-indicator color-loss"></div>
                            Lose
                        </div>
                        <div class="outcome-chance">25%</div>
                    </div>
                    <div class="outcome-item">
                        <div class="outcome-label">
                            <div class="color-indicator color-reset"></div>
                            Reset Vault
                        </div>
                        <div class="outcome-chance">5%</div>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="wallet-btn" id="connect-wallet">
                        Connect Wallet
                    </button>
                    <button class="spin-btn" id="spin-btn" disabled>
                        Spin for 0.005 SOL
                    </button>
                </div>
                
                <div class="result-container">
                    <div class="result" id="result"></div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        &copy; 2025 SOL Spinner | All rights reserved
    </footer>
    
    <script>
        // Configuration
        const CONFIG = {
            burnAddress: "59ZLDPBge9MUSLKAYVHMnqxPL5dwob5dQfULWskmErG1",
            vaultAddress: "59ZLDPBge9MUSLKAYVHMnqxPL5dwob5dQfULWskmErG1", // Change this to your actual vault address
            spinCost: 0.005,
            outcomes: [
                { type: "burn", chance: 25, color: "var(--primary)", degrees: [0, 90] },
                { type: "vault", chance: 25, color: "#4CAF50", degrees: [90, 180] },
                { type: "win2x", chance: 15, color: "var(--accent)", degrees: [180, 234] },
                { type: "win5x", chance: 5, color: "#FFC107", degrees: [234, 252] },
                { type: "loss", chance: 25, color: "#9E9E9E", degrees: [252, 342] },
                { type: "reset", chance: 5, color: "var(--error)", degrees: [342, 360] }
            ]
        };
        
        // State
        let gameStats = {
            totalSpins: 0,
            burnedSol: 0,
            vaultBalance: 0,
            resets: 0
        };
        
        let walletConnected = false;
        let isSpinning = false;
        
        // DOM Elements
        const wheelEl = document.getElementById('wheel');
        const connectWalletBtn = document.getElementById('connect-wallet');
        const spinBtn = document.getElementById('spin-btn');
        const resultEl = document.getElementById('result');
        
        // Stats Elements
        const totalSpinsEl = document.getElementById('total-spins');
        const burnedSolEl = document.getElementById('burned-sol');
        const vaultBalanceEl = document.getElementById('vault-balance');
        const resetsEl = document.getElementById('resets');
        
        // Connect wallet
        connectWalletBtn.addEventListener('click', async () => {
            // Simulate wallet connection (in a real app, you'd use something like Phantom wallet)
            setTimeout(() => {
                walletConnected = true;
                connectWalletBtn.textContent = 'Wallet Connected';
                spinBtn.disabled = false;
            }, 1000);
        });
        
        // Spin wheel
        spinBtn.addEventListener('click', async () => {
            if (!walletConnected || isSpinning) return;
            
            isSpinning = true;
            spinBtn.disabled = true;
            
            // Hide previous result
            resultEl.classList.remove('visible');
            resultEl.className = 'result';
            
            // Random outcome based on weighted chances
            const outcome = getRandomOutcome();
            
            // Get random degree within the outcome's range
            const minDeg = outcome.degrees[0];
            const maxDeg = outcome.degrees[1];
            const randomDegInRange = minDeg + Math.random() * (maxDeg - minDeg);
            
            // Calculate rotation (adding 5 full rotations plus the random position)
            const rotation = 1800 + randomDegInRange;
            
            // Animate wheel
            wheelEl.style.transform = `rotate(${rotation}deg)`;
            
            // Wait for animation to finish
            setTimeout(() => {
                // Process outcome
                processOutcome(outcome.type);
                
                // Enable spin button
                isSpinning = false;
                spinBtn.disabled = false;
            }, 4000);
        });
        
        // Get random outcome based on weighted chances
        function getRandomOutcome() {
            const random = Math.random() * 100;
            let cumulativeChance = 0;
            
            for (const outcome of CONFIG.outcomes) {
                cumulativeChance += outcome.chance;
                if (random <= cumulativeChance) {
                    return outcome;
                }
            }
            
            return CONFIG.outcomes[0]; // Fallback
        }
        
        // Process outcome
        function processOutcome(type) {
            gameStats.totalSpins++;
            
            let resultText = '';
            let resultClass = '';
            
            switch (type) {
                case 'burn':
                    gameStats.burnedSol += CONFIG.spinCost;
                    resultText = `üî• Burned ${CONFIG.spinCost} SOL! üî•`;
                    resultClass = 'burn';
                    break;
                    
                case 'vault':
                    gameStats.vaultBalance += CONFIG.spinCost;
                    resultText = `üí∞ ${CONFIG.spinCost} SOL sent to vault! üí∞`;
                    resultClass = 'buy';
                    break;
                    
                case 'win2x':
                    const win2x = CONFIG.spinCost * 2;
                    resultText = `üéâ You won ${win2x.toFixed(3)} SOL (2x)! üéâ`;
                    resultClass = 'win2x';
                    break;
                    
                case 'win5x':
                    const win5x = CONFIG.spinCost * 5;
                    resultText = `üöÄ You won ${win5x.toFixed(3)} SOL (5x)! üöÄ`;
                    resultClass = 'win5x';
                    break;
                    
                case 'loss':
                    resultText = `üò¢ You lost ${CONFIG.spinCost} SOL! üò¢`;
                    resultClass = 'loss';
                    break;
                    
                case 'reset':
                    gameStats.burnedSol += gameStats.vaultBalance;
                    gameStats.resets++;
                    resultText = `‚ö° VAULT RESET! ${gameStats.vaultBalance.toFixed(3)} SOL burned! ‚ö°`;
                    gameStats.vaultBalance = 0;
                    resultClass = 'reset';
                    break;
            }
            
            // Update stats display
            updateStats();
            
            // Show result
            resultEl.textContent = resultText;
            resultEl.classList.add(resultClass);
            resultEl.classList.add('visible');
        }
        
        // Update stats display
        function updateStats() {
            totalSpinsEl.textContent = gameStats.totalSpins;
            burnedSolEl.textContent = gameStats.burnedSol.toFixed(3);
            vaultBalanceEl.textContent = gameStats.vaultBalance.toFixed(3);
            resetsEl.textContent = gameStats.resets;
        }
        
        // Initialize
        updateStats();
    </script>
</body>
</html>
